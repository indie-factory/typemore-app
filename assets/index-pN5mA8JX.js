const __vite__fileDeps=["assets/DefaultLayout-BBIxLJnx.js","assets/plugin-vueexport-helper-DlAUqK2U.js","assets/vuetify-C1e8o-wN.js","assets/@vue-mRSmcEt4.js","assets/vuetify-O4E388zA.css","assets/Schedules-_7xmH6Fe.js","assets/Provider-Ck5sElLJ.js","assets/ProviderApi-DC8lkfBA.js","assets/vue-router-DceEJ2op.js","assets/axios-B6xwUs71.js","assets/@mdi-CqvS9aGL.css","assets/Login-Dj_hk9lI.js","assets/Login-6oeX2jz2.css","assets/ConnectProvider-EstkzRBe.js","assets/OAuth2-DwuwApgx.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
/* empty css             */import{c as R,V as E,a as I}from"./vuetify-C1e8o-wN.js";import{c as U,a as O}from"./vue-router-DceEJ2op.js";import{a as w}from"./axios-B6xwUs71.js";import{d as T,N as b,O as S,P as C,Q as f,q as _,R as $}from"./@vue-mRSmcEt4.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}})();const q=R({theme:{defaultTheme:"dark"}}),V="modulepreload",k=function(e){return"/"+e},h={},u=function(o,s,a){let t=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),n=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));t=Promise.all(s.map(i=>{if(i=k(i),i in h)return;h[i]=!0;const l=i.endsWith(".css"),y=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${y}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":V,l||(c.as="script",c.crossOrigin=""),c.href=i,n&&c.setAttribute("nonce",n),document.head.appendChild(c),l)return new Promise((A,L)=>{c.addEventListener("load",A),c.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${i}`)))})}))}return t.then(()=>o()).catch(r=>{const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=r,window.dispatchEvent(n),!n.defaultPrevented)throw r})},p="token",X=e=>{localStorage.setItem(p,e)},D=()=>{localStorage.removeItem(p)},N=()=>localStorage.getItem(p),B=()=>localStorage.getItem(p)!=null;var m={API_URL:"https://api-typemore.indie-factory.com",APP_URL:"https://app-typemore.indie-factory.com"};const P=()=>{const e=encodeURIComponent(`${m.APP_URL}/#/oauth2/redirect`);window.open(`${m.API_URL}/login/google?redirect_uri=${e}`,"_self")},Y=e=>{const o=encodeURIComponent(`${m.APP_URL}/#/connect-provider`);window.open(`${m.API_URL}/login/${e}?redirect_uri=${o}`,"_self")};var j={API_URL:"https://api-typemore.indie-factory.com",APP_URL:"https://app-typemore.indie-factory.com"};const x=1e6,d=w.create({withCredentials:!0,baseURL:`${j.API_URL}/api`,timeout:x,headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}});d.interceptors.request.use(e=>{const o=N();return e.headers.Authorization="Bearer "+o,e},e=>(console.error(e),Promise.reject(e)));d.interceptors.response.use(e=>{const o=e.data;return!o.success&&o.error&&console.error(o),o.result},e=>{var o;return((o=e.response)==null?void 0:o.status)===401&&(D(),P()),console.error(e),Promise.reject(e)});const F=()=>d.get("/members"),H=e=>{localStorage.setItem("member",JSON.stringify(e))},g=U({history:O("/"),routes:[{path:"/",component:()=>u(()=>import("./DefaultLayout-BBIxLJnx.js"),__vite__mapDeps([0,1,2,3,4])),meta:{requiresAuth:!0},children:[{name:"Schedules",path:"/schedules",component:()=>u(()=>import("./Schedules-_7xmH6Fe.js"),__vite__mapDeps([5,2,3,4]))},{name:"Main",path:"/providers",component:()=>u(()=>import("./Provider-Ck5sElLJ.js"),__vite__mapDeps([6,7,3,2,4,8,9,10]))}]},{name:"Login",path:"/login",component:()=>u(()=>import("./Login-Dj_hk9lI.js"),__vite__mapDeps([11,1,2,3,4,12]))},{name:"ConnectProvider",path:"/connect-provider",component:()=>u(()=>import("./ConnectProvider-EstkzRBe.js"),__vite__mapDeps([13,8,3,7,2,4,9,10])),meta:{requiresAuth:!0}},{name:"OAuth2",path:"/oauth2/redirect",component:()=>u(()=>import("./OAuth2-DwuwApgx.js"),__vite__mapDeps([14,8,3,2,4,9,10]))}]});g.beforeEach((e,o,s)=>{e.matched.some(t=>t.meta.requiresAuth)?B()?F().then(t=>{H(t),s()}):P():s()});function M(e){e.use(q).use(g)}const W=T({__name:"App",setup(e){return(o,s)=>{const a=b("router-view");return S(),C(I,null,{default:f(()=>[_(E,null,{default:f(()=>[_(a)]),_:1})]),_:1})}}}),v=$(W);M(v);v.mount("#app");export{Y as c,d as i,P as l,X as s};
